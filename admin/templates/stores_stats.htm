<!-- $Id: stores_stats.htm 14216 2015-10-26 11:22:21Z langlibin $ -->
{include file="pageheader_bd.htm"}
<script type="text/javascript" src="../js/calendar.php?lang={$cfg_lang}"></script>
<link href="../js/calendar/calendar.css" rel="stylesheet" type="text/css" />
<link href="styles/zTree/zTreeStyle.css" rel="stylesheet" type="text/css" />
<link href="styles/chosen/chosen.css" rel="stylesheet" type="text/css">
{insert_scripts files='jquery-1.6.2.min.js,chosen.jquery.min.js,jquery.ztree.all-3.5.min.js,category_selecter.js'}
<style type="text/css">
#menuContent_cat_id{
    z-index:2;
}
</style>
<div class="tab-div">
    <p style="margin: 10px">统计方式：门店自提订单业绩 + 门店邮寄订单业绩（仅已付款订单，退款订单除外）</p>
</div>
<div class="form-div">
    <form action="" method="post" id="selectForm" name="selectForm">
        选择平台：
        <select id="sel_suppliers" name="sel_suppliers">
            <option value="0" {if $sel_suppliers eq '0'} selected{/if}>全平台</option>
            {foreach from=$suppliers_list item=item}
            <option value="{$item.suppliers_id}" {if $item.suppliers_id eq $sel_suppliers} selected{/if}>{$item.suppliers_name}</option>
            {/foreach}
        </select>
        <label id="notice"></label>
        <br />
        {$lang.add_time}&nbsp;
        <input name="start_date" value="{$start_date}" style="width:140px;height:20px;" onclick="return showCalendar(this, '%Y-%m-%d', false, false, this);" />
        {$lang.to} &nbsp;
        <input name="end_date" value="{$end_date}" style="width:140px;height:20px;" onclick="return showCalendar(this, '%Y-%m-%d', false, false, this);" />
        &nbsp;&nbsp;&nbsp;&nbsp;<input type="submit" name="submit" value="{$lang.query}" class="button" />
    </form>
</div>
<div class="tab-div">
  <div id="tabbar-div2">
    <p>
        <span class="tab-front" id="order_tab_1">下单金额</span>
        <span class="tab-back" id="order_tab_2">下单商品数</span>
        <span class="tab-back" id="order_tab_3">下单量</span>
        <span class="tab-back" id="order_tab_4">下单金额（港币）</span>
    </p>
  </div>
  <div id="tabbody-div">
    <div class="list-div" id="order_list_1">
        <div class="order_count order_count_spe">
            <p><span class="tab_front">下单金额统计</span></p>
            <div style='height:800px;width:90%;margin-left:auto;margin-right:auto;' id='orders_option_div_1'></div>
        </div>
    </div>
    <div class="list-div" id="order_list_2">
        <div class="order_count order_count_spe">
            <p><span class="tab_front">下单商品数统计</span></p>
            <div style='height:800px;width:90%;margin-left:auto;margin-right:auto;' id='orders_option_div_2'></div>
        </div>
    </div>
    <div class="list-div" id="order_list_3">
        <div class="order_count order_count_spe">
            <p><span class="tab_front">下单量统计</span></p>
            <div style='height:800px;width:90%;margin-left:auto;margin-right:auto;' id='orders_option_div_3'></div>
        </div>
    </div>
    <div class="list-div" id="order_list_4">
        <div class="order_count order_count_spe">
            <p><span class="tab_front">下单金额统计</span></p>
            <div style='height:800px;width:90%;margin-left:auto;margin-right:auto;' id='orders_option_div_4'></div>
        </div>
    </div>
  </div>
</div>
<script type="text/javascript" language="JavaScript">
    var date = new Date();
    var y = date.getFullYear();
    var m = date.getMonth() + 1;

    for (i = 0; i < 10; i++) {
        var oP = document.createElement("option");alert(oP);return;
        var oText = document.createTextNode(y);
        oP.appendChild(oText);
        oP.setAttribute("value", y);
        if(y == '{$year}')
        {
            oP.setAttribute("selected", "selected")
        }
        document.getElementById('year').appendChild(oP);
        y = y - 1;
    };
    var j = 1;
    for (i = 1; i < 13; i++) {
        var month = document.createElement("option");
        var monthText = document.createTextNode(j);
        month.appendChild(monthText);
        month.setAttribute("value", j);
        if (j == {$month})
        {
            month.setAttribute("selected", "selected");
        }
        document.getElementById('month').appendChild(month);
        j = j + 1;
    };
</script>
<script src='js/echarts-all.js'></script>
<script>
    $(document).ready(function(){
        $("#order_list_2").hide();
        $("#order_list_3").hide();
        $("#order_list_4").hide();
        $("#order_tab_1").hover(function(){
            $("#order_list_1").show();
            $("#order_list_2").hide();
            $("#order_list_3").hide();
            $("#order_list_4").hide();
            $("#order_tab_1").addClass('tab-front');
            $("#order_tab_1").removeClass('tab-back');
            $("#order_tab_2").addClass('tab-back');
            $("#order_tab_2").removeClass('tab-front');
            $("#order_tab_3").addClass('tab-back');
            $("#order_tab_3").removeClass('tab-front');
            $("#order_tab_4").addClass('tab-back');
            $("#order_tab_4").removeClass('tab-front');
        });
        $("#order_tab_2").hover(function(){
            $("#order_list_1").hide();
            $("#order_list_2").show();
            $("#order_list_3").hide();
            $("#order_list_4").hide();
            $("#order_tab_1").addClass('tab-back');
            $("#order_tab_1").removeClass('tab-front');
            $("#order_tab_2").addClass('tab-front');
            $("#order_tab_2").removeClass('tab-back');
            $("#order_tab_3").addClass('tab-back');
            $("#order_tab_3").removeClass('tab-front');
            $("#order_tab_4").addClass('tab-back');
            $("#order_tab_4").removeClass('tab-front');
        });
        $("#order_tab_3").hover(function(){
            $("#order_list_1").hide();
            $("#order_list_2").hide();
            $("#order_list_3").show();
            $("#order_list_4").hide();
            $("#order_tab_1").addClass('tab-back');
            $("#order_tab_1").removeClass('tab-front');
            $("#order_tab_2").addClass('tab-back');
            $("#order_tab_2").removeClass('tab-front');
            $("#order_tab_3").addClass('tab-front');
            $("#order_tab_3").removeClass('tab-back');
            $("#order_tab_4").addClass('tab-back');
            $("#order_tab_4").removeClass('tab-front');
        });
        $("#order_tab_4").hover(function(){
            $("#order_list_1").hide();
            $("#order_list_2").hide();
            $("#order_list_3").hide();
            $("#order_list_4").show();
            $("#order_tab_1").addClass('tab-back');
            $("#order_tab_1").removeClass('tab-front');
            $("#order_tab_2").addClass('tab-back');
            $("#order_tab_2").removeClass('tab-front');
            $("#order_tab_3").addClass('tab-back');
            $("#order_tab_3").removeClass('tab-front');
            $("#order_tab_4").addClass('tab-front');
            $("#order_tab_4").removeClass('tab-back');
        });
    });
    var option1 = {
        title : {
        },
        tooltip : {
            trigger: 'axis'
        },
        legend: {
            data:[]
        },
        toolbox: {
            show : true,
            feature : {
                mark : {show: false},
                dataView : {show: false, readOnly: false},
                magicType: {show: true, type: ['bar']},
                restore : {show: true},
                saveAsImage : {show: true}
            }
        },
        calculable : true,
        xAxis : [
            {
                type : 'value',
                boundaryGap : [0, 0.01]
            }
        ],
        yAxis : [
            {
                type : 'category',
                data : [{$stores_name_arr}]
            }
        ],
        series : [
            {
                type:'bar',
                data:[{$goods_price_arr}]
            }
        ]
    };
    var option2 = {
        title : {
        },
        tooltip : {
            trigger: 'axis'
        },
        legend: {
            data:[]
        },
        toolbox: {
            show : true,
            feature : {
                mark : {show: false},
                dataView : {show: false, readOnly: false},
                magicType: {show: true, type: ['bar']},
                restore : {show: true},
                saveAsImage : {show: true}
            }
        },
        calculable : true,
        xAxis : [
            {
                type : 'value',
                boundaryGap : [0, 0.01]
            }
        ],
        yAxis : [
            {
                type : 'category',
                data : [{$stores_name_arr}]
            }
        ],
        series : [
            {
                type:'bar',
                data:[{$goods_count_arr}]
            }
        ]
    };
    var option3 = {
        title : {
        },
        tooltip : {
            trigger: 'axis'
        },
        legend: {
            data:[]
        },
        toolbox: {
            show : true,
            feature : {
                mark : {show: false},
                dataView : {show: false, readOnly: false},
                magicType: {show: true, type: ['bar']},
                restore : {show: true},
                saveAsImage : {show: true}
            }
        },
        calculable : true,
        xAxis : [
            {
                type : 'value',
                boundaryGap : [0, 0.01]
            }
        ],
        yAxis : [
            {
                type : 'category',
                data : [{$stores_name_arr}]
            }
        ],
        series : [
            {
                type:'bar',
                data:[{$orders_count_arr}]
            }
        ]
    };
    var option4 = {
        title : {
        },
        tooltip : {
            trigger: 'axis'
        },
        legend: {
            data:[]
        },
        toolbox: {
            show : true,
            feature : {
                mark : {show: false},
                dataView : {show: false, readOnly: false},
                magicType: {show: true, type: ['bar']},
                restore : {show: true},
                saveAsImage : {show: true}
            }
        },
        calculable : true,
        xAxis : [
            {
                type : 'value',
                boundaryGap : [0, 0.01]
            }
        ],
        yAxis : [
            {
                type : 'category',
                data : [{$stores_name_arr}]
            }
        ],
        series : [
            {
                type:'bar',
                data:[{$goods_exchange_price_arr}]
            }
        ]
    };
    var order_chart1 = echarts.init(document.getElementById('orders_option_div_1'));
    order_chart1.setOption(option1);
    var order_chart2 = echarts.init(document.getElementById('orders_option_div_2'));
    order_chart2.setOption(option2);
    var order_chart3 = echarts.init(document.getElementById('orders_option_div_3'));
    order_chart3.setOption(option3);
    var order_chart4 = echarts.init(document.getElementById('orders_option_div_4'));
    order_chart4.setOption(option4);
</script>
{include file="pagefooter.htm"}